<div class="player-new-record">
    <h2>Create a Record</h2>

    <div class="error" *ngIf="showError">{{ errorMessage }}</div>

    <form [formGroup]="newRecordForm" (ngSubmit)="createRecord()">
        <div class="error-form-element">
            <label for="gameRoom">Select Game Room:</label>
            <select id="gameRoom" formControlName="gameRoom" (change)="getGames()" required>
                <option disabled selected value="">-- Select an option --</option>
                <option *ngFor="let gameRoom of gameRooms" [ngValue]="gameRoom">{{ gameRoom.name }}</option>
            </select>

            <p *ngIf="newRecordForm.get('gameRoom')?.invalid && newRecordForm.get('gameRoom')?.touched">Missing game room</p>
        </div>

        <div class="error-form-element">
            <label for="game">Select Game:</label>
            <select id="game" formControlName="game" required>
                <option disabled selected value="">-- Select an option --</option>
                <option *ngFor="let game of games" [ngValue]="game">{{ game.name }}</option>
            </select>

            <p *ngIf="newRecordForm.get('game')?.invalid && newRecordForm.get('game')?.touched">Missing game</p>
        </div>

        <div class="error-form-element">
            <label for="score">Enter your Score:</label>
            <input type="number" id="score" formControlName="score" placeholder="Score" required>

            <p *ngIf="newRecordForm.get('score')?.invalid && newRecordForm.get('score')?.touched">Missing Score</p>
        </div>

        <div class="error-form-element">
            <label for="date">Enter Date:</label>
            <input type="date" id="date" formControlName="date" placeholder="Date" required>

            <p *ngIf="newRecordForm.get('date')?.invalid && newRecordForm.get('date')?.touched">Missing Date</p>
        </div>

        <input type="submit" value="Save Record" [disabled]="newRecordForm.invalid">
    </form>
</div>
